<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>


</head>

<body>

<h1 id="project2">Project2</h1>
<p>Chuanni He 2022-10-03</p>
<h1 id="backgroun-information">Backgroun Information</h1>
<p>This project is prepared by Aniket Anil Walimbe and Chuanni He. It
created a vignette for reading and summarizing data from one of the <a href="https://polygon.io/docs/getting-started">Financial data
API</a>.</p>
<h1 id="requirements">Requirements</h1>
<p>To use the functions for interacting with the Financial API, We used
the following packages:<br />
* <code>httr</code>: Tools for Working with URLs and HTTP.<br />
* <code>jsonlite</code>: A JSON parser/generator optimized for the web.
Its main strength is that it implements a bidirectional mapping between
JSON data and the most important R data types.<br />
* <code>ggplot2</code>: A system for declaratively creating graphics,
based on The Grammar of Graphics.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Required library and key information</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>key <span class="ot">=</span> <span class="st">&quot;EByG3OEye377G2rI0LRah2CUjGplA7TB&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="api-interaction-functions">API Interaction Functions</h1>
<p>This section talks about how we define the functions to interact with
the Financial API, as well as some helper functions working with data
manipulation.</p>
<p><code>Aggregates</code></p>
<p>Our first function is to obtain the stock price for a stock over a
given date range in custom time window sizes. This function interacts
with the <code>Aggregates (Bars)</code> endpoint of the API.
<code>stock</code> parameter refers to the ticker of the referred
company. For example, the stock ticker for Apple Inc. is
<code>AAPL</code>. Either lower-case or capital letters are acceptable.
The second parameter <code>multiplier</code> refers to the time
multiplier for the acquired data. For example, if the
<code>timespan</code> is <code>day</code>, then <code>multiplier</code>
of <code>5</code> indicates that 5-minute bars will be obtained.
<code>multiplier</code> should be integer values. The last parameter
<code>timespan</code> refers to the size of the time window. The
possible values are <code>minute</code>, <code>hour</code>,
<code>day</code>, <code>week</code>, <code>month</code>,
<code>quarter</code>, <code>year</code>. Either lower-case or capital
letters are acceptable. This function will return the close price in the
given time period between 2021-7-22 to 2022-7-22 with a maximum data
length of 200 records. The returned data type is data frame.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Aggregates <span class="ot">=</span> <span class="cf">function</span>(ticker,multiplier, timespan) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># generate the URL</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  base <span class="ot">=</span> <span class="st">&quot;https://api.polygon.io/v2/aggs/&quot;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  Endpoint <span class="ot">=</span> <span class="st">&quot;ticker&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ticker <span class="ot">=</span> <span class="fu">toupper</span>(ticker)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  timespan <span class="ot">=</span> <span class="fu">tolower</span>(timespan)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  call <span class="ot">=</span> <span class="fu">paste</span>(base,Endpoint,<span class="st">&quot;/&quot;</span>,ticker,<span class="st">&quot;/range/&quot;</span>,multiplier,<span class="st">&quot;/&quot;</span>,timespan,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;/2021-07-22/2022-07-22?adjusted=true&amp;sort=asc&amp;limit=200&amp;apiKey=&quot;</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>               key, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Acquire the data</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  get <span class="ot">=</span> <span class="fu">GET</span>(call)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  parsed <span class="ot">=</span> <span class="fu">fromJSON</span>(<span class="fu">rawToChar</span>(get<span class="sc">$</span>content))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">=</span> parsed<span class="sc">$</span>results</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(result) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;TradingVolumn&quot;</span>, <span class="st">&quot;VolumnWeightedAverage&quot;</span>, </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;OpenPrice&quot;</span>,<span class="st">&quot;ClosePrice&quot;</span>, <span class="st">&quot;HighestPrice&quot;</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;LowestPrice&quot;</span>,<span class="st">&quot;Timestamp&quot;</span>,<span class="st">&quot;Transactions&quot;</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><code>GetNews</code></p>
<p>The second function acquires the most recent news articles relating
to a stock ticker. The summary of the article and the link to the
original article are also included. Three parameters are included in
this function. The <code>ticker</code> is the stock ticker of the
company. Either lower-case or capital letters are acceptable. The
<code>published</code> parameter refers to the date on witch the news is
published greater than the specified value. The data type is string and
the format should be <code>yyyy-mm-dd</code>. The third parameter
y<code>limit</code> limits the number of news will be returned from the
function. The data type is integer. This function returns a structured
list including multiple information regarding each news such as
publisher, author, title, keywords, etc.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>GetNews <span class="ot">=</span> <span class="cf">function</span>(ticker, published, limit) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  ticker <span class="ot">=</span> <span class="fu">toupper</span>(ticker)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># generate the URL</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  base <span class="ot">=</span> <span class="st">&quot;https://api.polygon.io/v2/reference/&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  Endpoint <span class="ot">=</span> <span class="st">&quot;news&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  call <span class="ot">=</span> <span class="fu">paste</span>(base,Endpoint,<span class="st">&quot;?ticker=&quot;</span>,ticker,<span class="st">&quot;&amp;published_utc.gt=&quot;</span>,published,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;&amp;limit=&quot;</span>,limit, <span class="st">&quot;&amp;apiKey=&quot;</span>, key, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Acquire the data</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  get <span class="ot">=</span> <span class="fu">GET</span>(call)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  parsed <span class="ot">=</span> <span class="fu">fromJSON</span>(<span class="fu">rawToChar</span>(get<span class="sc">$</span>content))</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We removed the publisher information</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">=</span> parsed<span class="sc">$</span>results[,<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h1 id="data-exploration">Data Exploration</h1>
<p>Now that we can interact with a few of the endpoints of the Financial
API, let’s get some data from them.<br />
First, let’s pull the stock price of Apple Inc. (the ticker is
<code>AAPL</code>) and Amazon.com Inc. (the ticker is <code>AMZN</code>)
during 2021-7-22 and 2022-7-22. We set the timeframe as 1 day
(<code>multiplier=1</code>, <code>timespan=&quot;day&quot;</code>), then, we call
the function <code>Aggregates(&quot;aapl&quot;, 1, &quot;day&quot;)</code> and
<code>Aggregates(&quot;amzn&quot;, 1, &quot;day&quot;)</code>. Then combine them together by
adding a <code>Company</code> variable.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Price_Apple <span class="ot">=</span> <span class="fu">Aggregates</span>(<span class="st">&quot;aapl&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;day&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Price_Amazon <span class="ot">=</span> <span class="fu">Aggregates</span>(<span class="st">&quot;amzn&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;day&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>Price_Apple <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">Company=</span><span class="st">&quot;Apple&quot;</span>,Price_Apple)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>Price_Amazon <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">Company=</span><span class="st">&quot;Amazon&quot;</span>,Price_Amazon)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>Price <span class="ot">=</span> <span class="fu">rbind</span>(Price_Apple,Price_Amazon)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Price)</span></code></pre></div>
<pre><code>##   Company TradingVolumn VolumnWeightedAverage OpenPrice ClosePrice HighestPrice LowestPrice    Timestamp Transactions
## 1   Apple      77287356              146.9910   145.935     146.80     148.1950      145.81 1.626926e+12       480209
## 2   Apple      71447416              148.0368   147.550     148.56     148.7177      146.92 1.627013e+12       457247
## 3   Apple      72434089              149.1182   148.270     148.99     149.8300      147.70 1.627272e+12       489114
## 4   Apple     104803028              146.8324   149.120     146.77     149.2100      145.55 1.627358e+12       785621
## 5   Apple     118931191              144.8875   144.810     144.98     146.9700      142.54 1.627445e+12       829463
## 6   Apple      56699475              145.8064   144.685     145.64     146.5500      144.58 1.627531e+12       416123</code></pre>
<p>Plots You should pull data from at least two calls to your obtaining
data function (possibly combining them into one) We have called the
function twice to obtain the data for Apple and Amazon companies. We
have then plotted the opening price for the stocks against the timestamp
for doing various analysis like identifying the trends etc.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Price, <span class="fu">aes</span>(<span class="at">x =</span> Timestamp, <span class="at">y =</span> OpenPrice)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> Company))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- -->
You should create at least one new variable that is a function of other
variables : Here, we have created a new variable “PriceVariation” which
is the difference between the highest and lowest price of the stocks of
a company per day. This variation is then plotted against the timestamp
and following graph is obtaine.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>priceUpdated <span class="ot">&lt;-</span> Price <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Company <span class="sc">==</span> <span class="st">&quot;Apple&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PriceVariation =</span> (HighestPrice<span class="sc">-</span>LowestPrice)) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(PriceVariation))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> priceUpdated, <span class="fu">aes</span>(<span class="at">x =</span> Timestamp, <span class="at">y =</span> PriceVariation)) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> Price_Apple, <span class="fu">aes</span>(<span class="at">x =</span> OpenPrice))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Next, let’s create some contingency tables to summarize the key words
for different types of companies in the news. We are interested in the
key words in news for two types of companies: technology company and
finance company. We selected <code>AAPL</code> and <code>AMZN</code> as
technical company samples, <code>JPM</code> and <code>WFC</code> as
financial company samples.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>News_AAPL <span class="ot">=</span> <span class="fu">GetNews</span>(<span class="st">&quot;aapl&quot;</span>,<span class="st">&quot;2021-07-01&quot;</span>,<span class="dv">500</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>wordvec_AAPL <span class="ot">=</span> <span class="fu">tolower</span>(<span class="fu">unlist</span>(News_AAPL<span class="sc">$</span>keywords))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>News_AMZN <span class="ot">=</span> <span class="fu">GetNews</span>(<span class="st">&quot;amzn&quot;</span>,<span class="st">&quot;2021-07-01&quot;</span>,<span class="dv">500</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>wordvec_AMZN <span class="ot">=</span> <span class="fu">tolower</span>(<span class="fu">unlist</span>(News_AMZN<span class="sc">$</span>keywords))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>News_JPM <span class="ot">=</span> <span class="fu">GetNews</span>(<span class="st">&quot;jpm&quot;</span>,<span class="st">&quot;2021-07-01&quot;</span>,<span class="dv">500</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>wordvec_JPM <span class="ot">=</span> <span class="fu">tolower</span>(<span class="fu">unlist</span>(News_JPM<span class="sc">$</span>keywords))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>News_WFC <span class="ot">=</span> <span class="fu">GetNews</span>(<span class="st">&quot;wfc&quot;</span>,<span class="st">&quot;2021-07-01&quot;</span>,<span class="dv">500</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>worvec_WFC <span class="ot">=</span> <span class="fu">tolower</span>(<span class="fu">unlist</span>(News_WFC<span class="sc">$</span>keywords))</span></code></pre></div>
<p>We grabbed the keywords in the first 500 news of the corresponding
companies from 2021-07-01, save it as a string vector. Then we want to
search for the keywords of <code>tech</code>, <code>investing</code>,
and <code>markets</code> in the news from the four companies. We first
create a <code>keywords</code> vector to save the word list. Next we
search for the keywords in the corresponding string vectors, and create
four contingency tables accordingly.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>keywords <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;tech&quot;</span>, <span class="st">&quot;investing&quot;</span>,<span class="st">&quot;markets&quot;</span>,<span class="st">&quot;eurozone&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>wordcount_AAPL <span class="ot">=</span> wordvec_AAPL[wordvec_AAPL <span class="sc">%in%</span> keywords]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>wordcount_AMZN <span class="ot">=</span> wordvec_AMZN[wordvec_AMZN <span class="sc">%in%</span> keywords]</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>wordcount_JPM <span class="ot">=</span> wordvec_JPM[wordvec_JPM <span class="sc">%in%</span> keywords]</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>wordcount_WFC <span class="ot">=</span> worvec_WFC[worvec_WFC <span class="sc">%in%</span> keywords]</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wordcount_AAPL)</span></code></pre></div>
<pre><code>## wordcount_AAPL
## investing   markets      tech 
##       133        67        66</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wordcount_AMZN)</span></code></pre></div>
<pre><code>## wordcount_AMZN
##  eurozone investing   markets      tech 
##         1       187        60        26</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wordcount_JPM)</span></code></pre></div>
<pre><code>## wordcount_JPM
##  eurozone investing   markets      tech 
##         4       120        26         4</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wordcount_WFC)</span></code></pre></div>
<pre><code>## wordcount_WFC
##  eurozone investing   markets      tech 
##         3       129        28         2</code></pre>
<p>It can be seen that there is a clear association between the keywords
and company types. Two technical companies all includes keyword of
<code>tech</code>, while either of the financial companies has fewer
frequency of <code>tech</code>. On the other hand, financial terminology
such as <code>eurozone</code> has higher frequencies in financial
companies.</p>

</body>
</html>
